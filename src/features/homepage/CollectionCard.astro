---
/**
 * CollectionCard Component
 * Special card variant for displaying collections in the news grid
 * Includes collection badge, image, and item count
 */

import { Image } from 'astro:assets';
import {
	Card,
	CardContent,
	CardDescription,
	CardTitle,
} from '@/features/ui/card';

interface Props {
	name: string;
	description?: string;
	url: string;
	image: string;
	itemCount: number;
}

const { name, description, url, image, itemCount } = Astro.props;
---

<a href={url} class="collection-card-link">
	<Card class="collection-card group/collection overflow-hidden hover:border-purple-500 duration-300 border-4 rounded-3xl h-full">
		<div class="relative">
			<Image
				src={image || 'https://placehold.co/600x400'}
				width={600}
				height={400}
				alt={name}
				class="w-full aspect-video object-cover group-hover/collection:scale-105 duration-200"
				loading="lazy"
			/>
			<div class="collection-badge">
				<span>Collection â€¢ {itemCount} items</span>
			</div>
		</div>

		<CardContent class="mt-4">
			<CardTitle class="group-hover/collection:text-purple-500 break-words hyphens-auto">
				{name}
			</CardTitle>
		</CardContent>

		<div class="px-6 pb-4">
			<CardDescription class="text-base text-zinc-300">
				{description || 'Curated collection of resources'}
			</CardDescription>
		</div>
	</Card>
</a>

<style>
	.collection-card-link {
		text-decoration: none;
		display: flex;
		height: 100%;
	}

	.collection-card {
		display: flex;
		flex-direction: column;
		width: 100%;
	}

	.collection-badge {
		position: absolute;
		top: 1rem;
		right: 1rem;
		background: rgba(168, 85, 247, 0.95);
		color: white;
		padding: 0.5rem 1rem;
		border-radius: 9999px;
		font-size: 0.875rem;
		font-weight: 600;
		z-index: 10;
		backdrop-filter: blur(10px);
		box-shadow: 0 4px 12px rgba(168, 85, 247, 0.3);
	}

	@media (max-width: 640px) {
		.collection-badge {
			font-size: 0.75rem;
			padding: 0.375rem 0.75rem;
			top: 0.75rem;
			right: 0.75rem;
		}
	}
</style>
