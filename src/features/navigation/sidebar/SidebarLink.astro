---
/**
 * SidebarLink component
 * Individual navigation link with active state highlighting
 */

interface Props {
	href: string;
	label: string;
	icon?: any;
}

const { href, label } = Astro.props;
const currentPath = new URL(Astro.request.url).pathname;
const isCurrentlyActive = currentPath === href || (href !== '/' && currentPath.startsWith(href));
---

<a href={href} class:list={['sidebar-link', { active: isCurrentlyActive }]}>
	<span class="link-label">{label}</span>
</a>

<style>
	.sidebar-link {
		display: flex;
		align-items: center;
		padding: 0.75rem 1rem;
		color: rgba(255, 255, 255, 0.7);
		text-decoration: none;
		transition: all 0.2s ease;
		font-size: 0.95rem;
		border-left: 3px solid transparent;
	}

	.sidebar-link:hover {
		color: rgb(255, 255, 255);
		background-color: rgba(var(--accent), 0.1);
		border-left-color: rgb(var(--accent));
	}

	.sidebar-link.active {
		color: rgb(var(--accent));
		background-color: rgba(var(--accent), 0.15);
		border-left-color: rgb(var(--accent));
		font-weight: 600;
	}

	.link-label {
		flex: 1;
	}
</style>
