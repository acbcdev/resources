---
import { categories } from '@/features/common/consts';
const current = Astro.url.pathname.split('/')[1];
console.log('ðŸš€ ~ current:', current);
const categoriesFilter = categories.filter(({ length }) => length);
---

<aside
	class="w-fit border-r-2 fixed top-3 bottom-3 left-0 scrollbar-hide overflow-y-auto z-50 md:pb-2 pt-0 px-0.5 md:px-4"
>
	<a href="/" class="flex justify-evenly my-4 items-center">
		<img src="favicon.svg" class="size-8" />
		<h1 class="text-2xl md:text-4xl font-extrabold uppercase">Resources</h1>
	</a>
	<nav class="flex gap-x-1 flex-col">
		{
			categoriesFilter.map(({ name: category, icon: Icon, length }) => (
				<a
					class="rounded-3xl cursor-pointer text-lg py-2 hover:bg-zinc-700 duration-200 px-4 hover:opacity-95 flex gap-x-2 text-white group/btn items-center"
					class:list={current === category ? 'bg-zinc-700' : ''}
					transition:name={category}
				>
					<Icon />
					{category}
					<span class="text-sm group-hover/btn:bg-transparent font-bold items-center bg-zinc-700 px-2 py-1 rounded-3xl">
						{length}
					</span>
				</a>
			))
		}
	</nav>
</aside>
<style>
	aside {
		scrollbar-width: none;
	}
</style>
