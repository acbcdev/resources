---
/**
 * CollectionCard Component
 * Special card variant for displaying collections in the news grid
 * Includes collection badge, image, and item count
 */

import { Image } from 'astro:assets';
import {
	Card,
	CardContent,
	CardDescription,
	CardTitle,
} from '@/features/ui/card';
import { CARDS } from '@/features/common/consts/text';

interface Props {
	name: string;
	description?: string;
	url: string;
	image: string;
	itemCount: number;
}

const { name, description, url, image, itemCount } = Astro.props;
---

<a href={url} class="block h-full no-underline">
	<Card
		variant="interactive"
		class="group/collection overflow-hidden h-full flex flex-col"
	>
		<div class="relative">
			<Image
				src={image || 'https://placehold.co/600x400'}
				width={600}
				height={400}
				alt={name}
				class="w-full aspect-video object-cover group-hover/collection:scale-105 duration-200"
				loading="lazy"
			/>
			<span
				class="absolute top-3 right-3 sm:top-4 sm:right-4 bg-primary/95 text-primary-foreground px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-semibold z-10 backdrop-blur-sm shadow-lg"
			>
				{CARDS.collection.badge(itemCount)}
			</span>
		</div>

		<CardContent class="mt-4">
			<CardTitle class="group-hover/collection:text-primary transition-colors break-words hyphens-auto">
				{name}
			</CardTitle>
		</CardContent>

		<div class="px-6 pb-4 mt-auto">
			<CardDescription class="text-base text-muted-foreground">
				{description || CARDS.collection.defaultDescription}
			</CardDescription>
		</div>
	</Card>
</a>
